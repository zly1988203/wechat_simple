Zepto(function(s){s(document).ready(function(){var t=[],e=[],n=0,o="",a="",r="",i=null,c=0,p=0,l=0,u=0,d=0,g=0;s(window).scroll(function(t){var e=s(this).scrollTop();o=e>n?"down":"up",n=e}),s.fn.stickUp=function(t){s(this).addClass("stuckMenu");var n=0;if(null!=t){for(var o in t.parts)t.parts.hasOwnProperty(o)&&(e[n]=t.parts[n],n++);0==n&&console.log("error:needs arguments"),a=t.itemClass,r=t.itemHover,null!=t.topMargin?"auto"==t.topMargin?u=parseInt(s(".stuckMenu").css("margin-top")):isNaN(t.topMargin)&&t.topMargin.search("px")>0?u=parseInt(t.topMargin.replace("px","")):isNaN(parseInt(t.topMargin))?(console.log("incorrect argument, ignored."),u=0):u=parseInt(t.topMargin):u=0,i=s("."+a).size()}c=parseInt(s(this).height()),p=parseInt(s(this).css("margin-bottom")),l=parseInt(s(this).next().closest("div").css("margin-top")),d=parseInt(s(this).offset().top)},s(document).on("scroll",function(){if(g=parseFloat(document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop),null!=i)for(var n=0;n<i;n++){t[n]=s("#"+e[n]).offset().top,"down"==o&&g>t[n]-50&&g<t[n]+50&&(s("."+a).removeClass(r),s("."+a+":eq("+n+")").addClass(r)),"up"==o&&(m=n,contentView=.4*s("#"+e[m]).height(),testView=t[m]-contentView,g>testView?(s("."+a).removeClass(r),s("."+a+":eq("+m+")").addClass(r)):g<50&&(s("."+a).removeClass(r),s("."+a+":eq(0)").addClass(r)))}var m;d<g+u&&(s(".stuckMenu").addClass("isStuck"),s(".stuckMenu").next().closest("div").css({"margin-top":c+p+l+"px"},10),s(".stuckMenu").css("position","fixed"),s(".isStuck").css({top:"0px"},10,function(){})),g+u<d&&(s(".stuckMenu").removeClass("isStuck"),s(".stuckMenu").next().closest("div").css({"margin-top":l+"px"},10),s(".stuckMenu").css("position","relative"))})})});