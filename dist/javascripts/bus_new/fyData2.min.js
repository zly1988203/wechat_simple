var DatePicker2=function(){};$(function(){var e={onSell:"0",sellOut:"1",unplanned:"2",finished:"3"},t={vacation:"1",workday:"2",normal:"0"},a=new Date;function r(t){var a="";return(t+="")==e.onSell?a="有票":t==e.sellOut?a="售罄":t==e.unplanned?a="/":t==e.finished&&(a="停售"),a}function l(a,r){var l="";return a==e.onSell&&(l+=" on-sale"),r!=t.workday&&r!=t.vacation||(l+=" festival"),l}function i(t){return t==e.onSell}DatePicker2.formatData=function(a){for(var n=[],o={},u=0;u<a.length;u++){var c=a[u],f=DatePicker2.formatDate(c.date);if(f.date=c.date,f.festival=a[u].festival?a[u].festival:t.normal,f.sellStatus=a[u].sellStatus?a[u].sellStatus:e.unplanned,f.id=f.year+DatePicker2.formatNumToDouble(f.month),f.comment=r(f.sellStatus),f.classNames=l(f.sellStatus,f.festival),f.clickable=i(f.sellStatus),f.lunar=a[u].lunar?a[u].lunar:"",o[f.id])for(var s=0;s<n.length;s++){var d=n[s];if(d.id==f.id){d.data.push(f);break}}else n.push({id:f.id,name:f.year+"年"+DatePicker2.formatNumToDouble(f.month)+"月",data:[f]}),o[f.id]=f}return n},DatePicker2.formatNumToDouble=function(e){var t=0;if("string"==typeof e)t=parseInt(e);else{if("number"!=typeof e)throw new Error("参数错误，参数格式为String或者Number的整数数字");t=e}return t=t>0&&t<10?"0"+t:""+t},DatePicker2.formatDate=function(e){var t={};if("string"!=typeof e)throw new Error("日期格式错误：正确格式为yyyy-mth-dd");var a=new Date(e.replace(/-/g,"/"));return t.year=a.getFullYear(),t.month=a.getMonth()+1,t.day=a.getDate(),t.week=a.getDay(),t},DatePicker2.isToday=function(e){var t=DatePicker2.formatDate(e);return a.getFullYear()==t.year&&a.getMonth()+1==t.month&&a.getDate()==t.day},DatePicker2.isTomorrow=function(e){var t=DatePicker2.formatDate(e);return a.getFullYear()==t.year&&a.getMonth()+1==t.month&&a.getDate()+1==t.day},DatePicker2.draw=function(e,t,a,r){var l=DatePicker2.formatData(e);DatePicker2.fullDatePicker(l,t,a),r&&"function"==typeof r&&r()},DatePicker2.fullLeft=function(e){var t="";if(e>0&&e<7)for(var a=1;a<e+1;a++)t+='<td class="hide"></td>';return t},DatePicker2.fullRight=function(e){var t="";if(e<6)for(var a=0;a<6-e;a++)t+='<td class="hide"></td>';return t},DatePicker2.fullWeek=function(e){$(e).append('<div class="week-box"><ul>  <li>日</li>  <li>一</li>  <li>二</li>  <li>三</li>  <li>四</li>  <li>五</li>  <li>六</li></ul></div>')},DatePicker2.fullDate=function(e,a){var r="",l="";e.forEach(function(e,a){var r="";e.data.forEach(function(a,l){var i="",n="";1==e.data.length?(i=DatePicker2.fullLeft(a.week),n=DatePicker2.fullRight(a.week)):0==l?i=DatePicker2.fullLeft(a.week):l==e.data.length-1&&(n=DatePicker2.fullRight(a.week));var o="";a.festival==t.vacation?o="<i>休</i>":a.festival==t.workday&&(o="<i>班</i>");var u=a.day;DatePicker2.isToday(a.date)?u="今天":DatePicker2.isTomorrow(a.date)&&(u="明天"),r+=i+'<td class="'+a.classNames+'" data-clickable="'+a.clickable+'"><p>'+a.lunar+"</p><em>"+u+"</em><span>"+a.comment+"</span>"+o+"</td>"+n}),l+='<li class="sui-border-b"><table>  <thead><tr><th colspan="7">'+e.name+"</th></tr></thead>  <tbody><tr>"+r+"  </tr></tbody></table></li>"});var i='<div class="date-box"><ul>'+(r+=l)+"</ul></div>";$(a).append(i)},DatePicker2.fullDatePicker=function(e,t,a){a&&DatePicker2.fullWeek(t),DatePicker2.fullDate(e,t)}});