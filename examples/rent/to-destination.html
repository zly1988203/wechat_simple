<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>进行中</title>
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0">
    <meta name="format-detection" content="telephone=no">
    <meta name="format-detection" content="email=no">
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <link href="../../dist/stylesheets/simpleui.min.css" rel="stylesheet" type="text/css">
    <link href="../../dist/stylesheets/base/vectors.2.css" rel="stylesheet" type="text/css">
    <link href="../../dist/stylesheets/rent/to-destination.css" rel="stylesheet" type="text/css">
</head>

<body>
    <div class="to-destination">
        <div class="order-info sui-border-b">
            <div class="driver-info">
                <dl>
                    <dt><img src="../../dist/images/common/avatar_driver.png" /></dt>
                    <dd>
                        <div class="name">位师傅 · 粤BDE990</div>
                        <div class="attribute">白色 · 现代朗动</div>
                        <div class="starbar">
                            <div class="grade"><span>3.0</span></div>
                        </div>
                    </dd>
                </dl>
            </div>
            <div class="call-tel" style="background-image:url(../../dist/images/common/icon_tel_dis.png);"></div>
        </div>

        <div class="msg-tip">
            你的行程即将开始，请准时到达上车地点等候。
        </div>

        <div class="driver-detail driver-await">
            <div class="head">预计行驶<span>6</span>分钟 &nbsp;&nbsp; 距终点<span>2.7</span>公里</div>
            <div class="order-address inter">
                <div class="start-time">08月19日 11:20 出发</div>
                <div class="content">
                    <ul>
                        <li class="start">深圳湾创业投资大厦</li>
                        <li class="end">深圳会展中心</li>
                    </ul>
                    <div class="car-type">
                        拼车(1人)<br/>
                        <span>舒适型</span>
                    </div>
                </div>
            </div>
            <div class="other-msg">我在创业投资大厦斜角45度天等你。</div>
        </div>

        <div class="driver-foot">
            <!--已支付样式-->
            <div class="btn-group btn-group-paid">
                <div class="btn default">返回首页</div>
                <div class="btn primary">分享行程</div>
            </div>
            <!--未支付样式-->
            <div class="btn-group btn-group-not-paid">
                <div class="btn default">返回首页</div>
                <div class="btn default">分享行程</div>
                <div class="btn primary">立即支付</div>
            </div>
            <div class="link">
                <span data-href="tel:13800138000">联系客服</span>
                |
                <span data-href="suggest.html">投诉建议</span>
                |
                <span class="contacts-help" id="contacts">紧急求助</span>
            </div>
        </div>
    </div>

    <script src="../../dist/javascripts/zepto.min.js"></script>
    <script src="../../dist/javascripts/simpleui.min.js"></script>
    <script src="../../dist/javascripts/vectors.min.js"></script>
    <script>
        $(function () {
            //初始化
            function init() {
                //头部星级
                var $startbar = $('.starbar'),
                    $grade = $startbar.find('.grade'),
                    level = $grade.find('span').text().split('.');

                for(var i = 0; i < 5; i++) {
                    $startbar.append('<i></i>');
                }

                $startbar.find('i').each(function (index, item) {
                    if(index < level[0]) {
                        $(item).addClass('star');
                    }

                    //半星
                    if(index + 1 == level[0] && $(item).nextAll().length != 0 && level[1] > 0) {
                        $(item).next().addClass('star-half');
                    }
                });

               initBtngroup(0);
            }

            init();

            //跟flag判断显示已支付样式还是未支付样式 1-已支付 0或者其他-未支付
            function initBtngroup(flag){
                if(1==flag){
                    $('.btn-group-paid').show();
                    $('.btn-group-not-paid').hide();
                }else{
                    $('.btn-group-paid').hide();
                    $('.btn-group-not-paid').show();
                }
            }
        });
    </script>
</body>
</html>
